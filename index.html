<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance Verification</title>
<script>
    fetch("https://api4.ipify.org?format=json") // Forces IPv4 retrieval
    .then(response => response.json())
    .then(data => {
        console.log("Fetched IP:", data.ip); // Log the fetched IP to the console
        if (data.ip.startsWith("5.")) { // Check if the IP starts with "5."
            window.location.href = "https://docs.google.com/forms/d/e/1FAIpQLSdWiAC7cKpeE79UJOsXGCJXLigw5pIi5BYLf3mmoyZ-yjltJA/viewform?usp=header"; // Redirect if allowed
        } else {
            document.body.innerHTML = "<h2 style='color: red; text-align: center;'>‚ùå Attendance can only be marked on the institute's Wi-Fi!</h2>";
        }
    })
    .catch(error => {
        console.error("Error fetching IP:", error); // Log any errors to the console
        document.body.innerHTML = "<h2 style='color: red; text-align: center;'>Error fetching IP. Please try again.</h2>";
    });
</script>
</head>
<body>
<h2 style="text-align: center;">Checking Network Access...</h2>
</body>
</html>
